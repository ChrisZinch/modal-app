(this["webpackJsonpmodal-app"]=this["webpackJsonpmodal-app"]||[]).push([[0],{14:function(e,t,c){},15:function(e,t,c){},20:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(0),s=c.n(a),r=c(6),i=c.n(r),o=c(3),l=(c(14),"https://tzfrontend.herokuapp.com"),m=function(e){return fetch("".concat(l,"/comments/").concat(e)).then((function(e){return e.json()}))};c(15);var u=function(e){var t=e.setOpen,c=e.currentId,s=e.currentImg,r=Object(a.useState)(""),i=Object(o.a)(r,2),u=i[0],j=i[1],d=Object(a.useState)(""),b=Object(o.a)(d,2),f=b[0],h=b[1],O=Object(a.useState)([]),p=Object(o.a)(O,2),x=p[0],g=p[1];Object(a.useEffect)((function(){var e;e=c,fetch("".concat(l,"/images/").concat(e)).then((function(e){return e.json()})),m(c).then((function(e){console.log(e),g(e)}))}),[]);var _=function(e,t,c){(function(e,t,c){return fetch("".concat(l,"/comments/add"),{method:"POST",body:JSON.stringify({name:e,description:t,image_id:c})})})(e,t,c).then((function(){m(c).then((function(e){console.log(e),g(e)}))})),j(""),h("")};return Object(n.jsxs)("div",{className:"modal-window",children:[Object(n.jsxs)("div",{className:"left",children:[Object(n.jsx)("img",{alt:"nature",src:s,className:"modal-window__img"}),Object(n.jsxs)("form",{className:"comment-form",onSubmit:function(e){e.preventDefault(),_(u,f,c)},children:[Object(n.jsx)("div",{className:"form-field",children:Object(n.jsx)("input",{type:"text",value:u,name:"name",placeholder:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",className:"comment-form__input",onChange:function(e){return j(e.target.value.trimLeft())},required:!0,autoComplete:"off"})}),Object(n.jsx)("div",{className:"form-field",children:Object(n.jsx)("textarea",{name:"comment",value:f,placeholder:"\u0412\u0430\u0448 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",className:"comment-form__input",onChange:function(e){return h(e.target.value.trimLeft())},required:!0})}),Object(n.jsx)("button",{type:"submit",className:"comment-form__submit-button",children:"\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"})]})]}),Object(n.jsx)("div",{className:"right",children:Object(n.jsx)("ul",{className:"comments__list",children:x.map((function(e){return Object(n.jsx)("li",{className:"comments__item",children:e.description},e.image_id)}))})}),Object(n.jsx)("button",{type:"button",onClick:function(){t(!1)},className:"cross-button"})]})},j=c(32);var d=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),c=t[0],s=t[1],r=Object(a.useState)(!1),i=Object(o.a)(r,2),m=i[0],d=i[1],b=Object(a.useState)(""),f=Object(o.a)(b,2),h=f[0],O=f[1],p=Object(a.useState)(0),x=Object(o.a)(p,2),g=x[0],_=x[1];return Object(a.useEffect)((function(){fetch("".concat(l,"/images/")).then((function(e){return e.json()})).then(s)}),[]),Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"app",children:[Object(n.jsx)("header",{className:"header",children:Object(n.jsx)("h1",{className:"header__title",children:"Test App"})}),0===c.length&&Object(n.jsx)(j.a,{}),Object(n.jsxs)("div",{children:[c&&Object(n.jsx)("ul",{className:"gallery-list",children:c.map((function(e){return Object(n.jsx)("li",{className:"gallery-list__item",children:Object(n.jsx)("img",{alt:"nature",src:e.src,onClick:function(){O(e.src),d(!0),_(e.image_id)},className:"gallery-list__image"})},e.image_id)}))}),m&&Object(n.jsx)(u,{setOpen:d,currentId:g,currentImg:h})]}),Object(n.jsx)("footer",{className:"footer",children:Object(n.jsx)("h2",{children:"\xa9 2018-2019"})})]})})};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(d,{})}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.17d0e5a9.chunk.js.map