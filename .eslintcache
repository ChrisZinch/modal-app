[{"C:\\projects\\modal-app\\src\\index.js":"1","C:\\projects\\modal-app\\src\\api\\images.js":"2","C:\\projects\\modal-app\\src\\App.jsx":"3","C:\\projects\\modal-app\\src\\components\\ModalWindow\\ModalWindow.jsx":"4"},{"size":201,"mtime":1607356652692,"results":"5","hashOfConfig":"6"},{"size":654,"mtime":1607434373309,"results":"7","hashOfConfig":"6"},{"size":1682,"mtime":1607437880414,"results":"8","hashOfConfig":"6"},{"size":2679,"mtime":1607437662336,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"12"},"33ms1i",{"filePath":"13","messages":"14","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"12"},{"filePath":"15","messages":"16","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"17","messages":"18","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"19","usedDeprecatedRules":"12"},"C:\\projects\\modal-app\\src\\index.js",[],["20","21"],"C:\\projects\\modal-app\\src\\api\\images.js",[],"C:\\projects\\modal-app\\src\\App.jsx",[],"C:\\projects\\modal-app\\src\\components\\ModalWindow\\ModalWindow.jsx",["22"],"import React, { useEffect, useState } from 'react';\nimport { getImage } from '../../api/images';\nimport { addComment, getComments } from '../../api/images';\nimport \"./ModalWindow.css\";\n\n\nexport const ModalWindow = ({setOpen, currentId, currentImg}) => {\n  const [name, setName] = useState('');\n  const [newComment, setNewComment] = useState('');\n  const [commentsList, setCommentsList] = useState([]);\n \n  useEffect(() => {\n    getImage(currentId);\n    getComments(currentId)\n      .then((data) => {\n        console.log(data)\n        setCommentsList(data)\n      })\n  }, []);\n\n  const handleCommentAdd = (name, description, currentId) => {\n    addComment(name, description, currentId)\n      .then(() => {\n        getComments(currentId)\n          .then((data) => {\n            console.log(data);\n            setCommentsList(data);\n          })\n      });\n    setName('');\n    setNewComment('');\n  };\n\n  return (\n    <div className=\"modal-window\">\n      <div className=\"left\">\n        <img\n          alt=\"nature\"\n          src={currentImg}\n          className=\"modal-window__img\"\n        />\n        <form\n          className=\"comment-form\"\n          onSubmit={(event) => {\n            event.preventDefault();\n            handleCommentAdd(name, newComment, currentId);\n          }}\n        >\n          <div className=\"form-field\">\n            <input\n              type=\"text\"\n              value={name}\n              name=\"name\"\n              placeholder=\"Ваше имя\"\n              className=\"comment-form__input\"\n              onChange={event => setName(event.target.value.trimLeft())}\n              required\n              autoComplete=\"off\"\n            />\n          </div>\n          <div className=\"form-field\">\n            <textarea\n              name=\"comment\"\n              value={newComment}\n              placeholder=\"Ваш комментарий\"\n              className=\"comment-form__input\"\n              onChange={event => setNewComment(event.target.value.trimLeft())}\n              required\n            />\n          </div>\n          <button\n            type=\"submit\"\n            className=\"comment-form__submit-button\"\n          >\n            Оставить комментарий\n          </button>\n        </form>\n      </div>\n      <div className=\"right\">\n          <ul className=\"comments__list\">\n            {commentsList.map(item => (\n              <li key={item.image_id} className=\"comments__item\">\n                {item.description}\n              </li>\n            ))}\n          </ul>\n      </div>\n      <button\n        type=\"button\"\n        onClick={() => {\n          setOpen(false);\n        }}\n        className=\"cross-button\"\n      />\n    </div>\n  )\n}",{"ruleId":"23","replacedBy":"24"},{"ruleId":"25","replacedBy":"26"},{"ruleId":"27","severity":1,"message":"28","line":19,"column":6,"nodeType":"29","endLine":19,"endColumn":8,"suggestions":"30"},"no-native-reassign",["31"],"no-negated-in-lhs",["32"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'currentId'. Either include it or remove the dependency array.","ArrayExpression",["33"],"no-global-assign","no-unsafe-negation",{"desc":"34","fix":"35"},"Update the dependencies array to be: [currentId]",{"range":"36","text":"37"},[570,572],"[currentId]"]